--- a/Makefile
+++ b/Makefile
@@ -1,7 +1,11 @@
 PACKAGE=perfSONAR_PS-LSRegistrationDaemon
-ROOTPATH=/opt/perfsonar_ps/ls_registration_daemon
+DESTDIR?=/opt/perfsonar
 VERSION=3.5
 RELEASE=0.0.a1
+BIN=$(DESTDIR)/bin
+DOC=$(DESTDIR)/doc
+ETC=$(DESTDIR)/etc
+LIB=$(DESTDIR)/lib
 
 default:
 	@echo No need to build the package. Just run \"make install\"
@@ -22,15 +26,11 @@
 	rm -rf /tmp/$(PACKAGE)-$(VERSION).$(RELEASE)
 
 rpminstall:
-	mkdir -p ${ROOTPATH}
-	tar ch --exclude=etc/* --exclude=*spec --exclude=MANIFEST --exclude=Makefile -T MANIFEST | tar x -C ${ROOTPATH}
-	for i in `cat MANIFEST | grep ^etc`; do  mkdir -p `dirname $(ROOTPATH)/$${i}`; if [ -e $(ROOTPATH)/$${i} ]; then install -m 640 -c $${i} $(ROOTPATH)/$${i}.new; else install -m 640 -c $${i} $(ROOTPATH)/$${i}; fi; done
+	mkdir -p ${DESTDIR}
+	tar ch --exclude=etc/* --exclude=*spec --exclude=MANIFEST --exclude=Makefile -T MANIFEST | tar x -C ${DESTDIR}
+	for i in `cat MANIFEST | grep ^etc`; do  mkdir -p `dirname $(DESTDIR)/$${i}`; if [ -e $(DESTDIR)/$${i} ]; then install -m 640 -c $${i} $(DESTDIR)/$${i}.new; else install -m 640 -c $${i} $(DESTDIR)/$${i}; fi; done
  
 install:
-	sed -i "s|/opt/perfsonar_ps/ls_registration_daemon|${ROOTPATH}|g" ./etc/ls_registration_daemon.conf
-	sed -i "s|/opt/perfsonar_ps/ls_registration_daemon|${ROOTPATH}|g" ./etc/ls_registration_daemon-logger.conf
-	for i in `ls ./scripts`; do sed -i "s|/opt/perfsonar_ps/ls_registration_daemon|${ROOTPATH}|g" ./scripts/$${i}; done
-	mkdir -p ${ROOTPATH}
-	tar ch --exclude=etc/* --exclude=*spec --exclude=MANIFEST --exclude=Makefile -T MANIFEST | tar x -C ${ROOTPATH}
-	for i in `cat MANIFEST | grep ^etc`; do  mkdir -p `dirname $(ROOTPATH)/$${i}`; if [ -e $(ROOTPATH)/$${i} ]; then install -m 640 -c $${i} $(ROOTPATH)/$${i}.new; else install -m 640 -c $${i} $(ROOTPATH)/$${i}; fi; done
+	install -d $(BIN) $(DOC) $(ETC) $(LIB)
+	tar ch ./lib/perfSONAR_PS/LSRegistrationDaemon | tar x -C $(LIB)
 
--- a/perl-perfSONAR_PS-LSRegistrationDaemon.spec
+++ b/perl-perfSONAR_PS-LSRegistrationDaemon.spec
@@ -67,7 +67,7 @@
 %install
 rm -rf %{buildroot}
 
-make ROOTPATH=%{buildroot}/%{install_base} rpminstall
+make DESTDIR=%{buildroot}/%{install_base} rpminstall
 
 mkdir -p %{buildroot}/etc/init.d
 
